<div class="flex flex-col flex-grow items-center text-center p-6 md:p-10">
  <div class="text-lg md:text-xl border-b-4 border-dotted border-primary inline-block pb-1">
    <%= t('static_pages.top_amapita_explanation.sweetness_rating_title') %>
  </div>

  <div class="text-base md:text-md py-4 md:p-8 gap-2 leading-loose">
    商品のレビューをする際、<br>好みの甘さに<span class="md:hidden"><br></span>
    <%= raw t('static_pages.top_amapita_explanation.sweetness_rating_explanation') %>
  </div>

  <div class="flex items-center justify-center gap-3 md:gap-5 px-2 py-6 md:pb-12">
    <% smileys = [
      {img: "smiley-meh.svg", color: "bg-accent", size: "h-8 w-8 md:h-9 md:w-9"},
      {img: "smiley-blank.svg", color: "bg-accent", size: "h-8 w-8 md:h-9 md:w-9"},
      {img: "smiley-wink.svg", color: "bg-primary", size: "h-11 w-11 md:h-12 md:w-12", highlight: true},
      {img: "smiley-nervous.svg", color: "bg-secondary", size: "h-8 w-8 md:h-9 md:w-9"},
      {img: "smiley-x-eyes.svg", color: "bg-secondary", size: "h-8 w-8 md:h-9 md:w-9"}
    ] %>

    <% smileys.each do |s| %>
      <% if s[:highlight] %>
        <span class="relative p-1 rounded-full <%= s[:color] %> gap-1">
          <span class="absolute -top-7 px-10 left-1/2 -translate-x-1/2 text-sm whitespace-nowrap">
            <%= t('static_pages.top_amapita_explanation.perfect_sweetness') %>
          </span>
          <%= image_tag s[:img], class: s[:size] %>
        </span>
      <% else %>
        <span class="p-1 rounded-full <%= s[:color] %>">
          <%= image_tag s[:img], class: s[:size] %>
        </span>
      <% end %>
    <% end %>
  </div>

  <!-- 投稿バッジ -->
  <div class="text-md sm:text-xl inline-flex items-center gap-2">
    <div class="flex flex-col pb-3">
      <div class="flex flex-row gap-2 items-center justify-center border-b-4 border-dotted border-secondary pb-1">
        <%= image_tag "badge.svg", class: "h-7 w-7" %>
          <%= t('static_pages.top_amapita_explanation.post_badge_title') %>
      </div>
    </div>
  </div>

  <div class="text-base md:text-md md:p-4 leading-loose">
    投稿を重ねるごとに、<span class="md:hidden"><br></span>新しいバッジが手に入ります。
    <br>あなたの甘さの冒険の歩みが、<span class="md:hidden"><br></span>そのままバッジに✧*
  </div>

  <!-- バッジ一覧 -->
  <div class="flex flex-col items-start py-4 md:p-4">
    <% badges = [
      {count: '1件以上', name: 'スイーツマスターLv.1'},
      {count: '5件以上', name: '甘の冒険者'},
      {count: '10件以上', name: '甘界の番長'}
    ] %>

    <% badges.each do |b| %>
      <div class="flex items-center gap-2 p-1">
        <span class="md:w-25 text-right">
          <%= b[:count] %>：
        </span>
        <span class="flex items-center gap-1 text-xs md:text-sm rounded-full py-1 px-2 bg-success w-fit">
          <%= image_tag "badge.svg", class: "h-4 w-4 md:h-5 md:w-5" %>
          <%= b[:name] %>
        </span>
      </div>
    <% end %>

    <div class="text-sm py-4">
      <%= t('static_pages.top_amapita_explanation.badge_hint_message') %>
    </div>
  </div>

  <div class="flex flex-row gap-4 sm:gap-6">
    <div class="pb-4 sm:pb-6 text-center">
      <button
        class="bg-stone-300 w-full sliders-button text-center"
        onclick="document.querySelector('.swiper-button-prev').click()">
          <%= t('defaults.buttons.return') %>
      </button>
    </div>
        <div class="pb-4 sm:pb-4 text-center">
      <button
        class="bg-primary sliders-button text-center"
        onclick="document.querySelector('.swiper-button-next').click()">
          <%= t('defaults.buttons.next') %>
      </button>
    </div>
  </div>
</div>
