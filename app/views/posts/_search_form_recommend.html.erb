<%= search_form_for q_recommend, as: :q_recommend, url: posts_path, method: :get,
    class: 'p-1 md:p-4 flex justify-center',
    data: { search_clear_target: "form" } do |f| %>

  <%= hidden_field_tag :active_tab, 'recommend' %>

  <div class="flex flex-col items-center text-sm md:text-base bg-base-100/80 ring-stone-200/50 ring-1 rounded-4xl py-3 px-2 md:p-4 max-w-md md:max-w-4xl mx-auto gap-2">
    <div class="py-1">
      <%= t('posts.index.search_title.twin_recommendations') %>
    </div>
    <!-- キーワード検索 -->
    <div class="flex flex-row items-stretch md:items-center gap-1 md:gap-2 w-full">
      <%= f.search_field :review_or_product_name_or_user_name_or_category_name_or_product_manufacturer_cont, 
        class: "flex-1 bg-white/80 p-2 rounded-4xl ring-3 w-full md:w-100 ring-stone-200 text-base px-4",
        placeholder: t('defaults.placeholders.search_word'),
        data: { search_clear_target: "input" } %>

      <%= button_tag type: "submit", class: "btn btn-secondary flex items-center justify-center" do %>
        <%= image_tag "magnifying-glass.svg", alt: t('helpers.submit.search'), class: "size-5" %>
      <% end %>

        <button type="button" 
          onclick="location.href='<%= url_for(only_path: true, tab: 'recommend') %>'" 
                  class="btn">
          <%= image_tag "eraser.svg", alt: t('helpers.submit.clear'), class: "size-5" %>
        </button>
    </div>

    <!-- 詳細検索 -->
    <div class="w-full text-sm">
      <div class="grid grid-cols-2 gap-2 md:gap-4 px-1 md:px-6">

        <!-- カテゴリ -->
        <div class="col-span-1">
          <%= f.label :category_id, t('activerecord.models.category') %>
          <%= f.select :category_name_eq,
            Category.all.pluck(:name, :name),
                { include_blank: t('defaults.pull_down') },
                class: "select w-full text-xs sm:text-sm bg-white/70",
                data: { search_clear_target: "select" } %>
        </div>

        <!-- メーカー -->
        <div class="col-span-1">
           <%= f.label :manufacturer, t('activerecord.attributes.product.manufacturer') %>
          <%= f.select :product_manufacturer_eq,
                I18n.t('products.manufacturers.list'),
                { include_blank: t('defaults.pull_down') },
                class: "select w-full text-xs sm:text-sm bg-white/70",
                data: { search_clear_target: "select" } %>
          </div>
        </div>
      </div>
  </div>
<% end %>
